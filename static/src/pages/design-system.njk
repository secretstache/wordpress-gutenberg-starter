---
title: Home
---

{% extends "design-system/library.njk" %}

{% block content %}

  <script>
    /**
     * Get CSS custom properties by prefix
     * @param {string} prefix - The CSS variable prefix (e.g., '--color-')
     * @returns {Object} Object with variable names (without prefix) as keys and values
     */
    function getCssVariables(prefix) {
      const rootStyles = getComputedStyle(document.documentElement);
      const variables = {};

      Array.from(rootStyles).forEach(propertyName => {
        if (propertyName.startsWith(prefix)) {
          const varName = propertyName.slice(prefix.length);
          const value = rootStyles.getPropertyValue(propertyName).trim();

          if (value) {
            variables[varName] = value;
          }
        }
      });

      return variables;
    }

    /**
     * Convert rem to px (assuming 16px base)
     * @param {string} value - Value in rem (e.g., "2rem")
     * @returns {string} Value in px (e.g., "32px")
     */
    function remToPx(value) {
      const num = parseFloat(value);
      return Math.round(num * 16) + 'px';
    }

    /**
     * Add px conversion to rem/em values
     * @param {string} value - CSS value that might contain rem or em
     * @param {boolean} convertEm - Whether to convert em units (false for relative properties like letter-spacing)
     * @returns {string} Value with px conversion added
     */
    function addPxConversion(value, convertEm = false) {
      // Replace rem values with "Xrem (Ypx)"
      value = value.replace(/([\d.]+)(rem)/g, (match, num, unit) => {
        return `${num}${unit} (${remToPx(match)})`;
      });

      // Only convert em if specified (not for letter-spacing, since it's font-size relative)
      if (convertEm) {
        value = value.replace(/([\d.]+)(em)/g, (match, num, unit) => {
          const px = Math.round(parseFloat(num) * 16);
          return `${num}${unit} (${px}px at 16px font)`;
        });
      }

      return value;
    }

    /**
     * Format clamp values to human-readable format
     * @param {string} value - CSS value (could be clamp, rem, or px)
     * @returns {string} Formatted human-readable value
     */
    function formatTextSize(value) {
      // Check if it's a clamp function
      const clampMatch = value.match(/clamp\(([^,]+),([^,]+),([^)]+)\)/);

      if (clampMatch) {
        const minValue = clampMatch[1].trim();
        const maxValue = clampMatch[3].trim();

        // Extract rem values
        const minRem = minValue.match(/[\d.]+rem/)?.[0];
        const maxRem = maxValue.match(/[\d.]+rem/)?.[0];

        if (minRem && maxRem) {
          return `Mobile: ${minRem} (${remToPx(minRem)}), Desktop: ${maxRem} (${remToPx(maxRem)})`;
        }

        return value; // Fallback to original if parsing fails
      }

      // Add px conversion for rem/em values (em with note)
      return addPxConversion(value, true);
    }

    /**
     * Format any value that might contain rem (but not em for relative properties)
     * @param {string} value - CSS value
     * @returns {string} Formatted value with px conversions
     */
    function formatWithPxConversion(value) {
      return addPxConversion(value, false); // Don't convert em
    }

    /**
     * Configuration for different CSS variable types
     */
    const variableConfigs = [
      {
        prefix: '--color-',
        heading: 'Colors',
        classPrefix: 'bg-',
        type: 'color'
      },
      {
        prefix: '--font-',
        heading: 'Font Family',
        classPrefix: 'font-',
        exclude: (name) => name.startsWith('weight-'),
        type: 'text'
      },
      {
        prefix: '--font-weight-',
        heading: 'Font Weight',
        classPrefix: 'font-',
        type: 'text'
      },
      {
        prefix: '--container-',
        heading: 'Container',
        classPrefix: 'container-',
        type: 'text',
        formatter: formatWithPxConversion
      },
      {
        prefix: '--text-',
        heading: 'Text Size',
        classPrefix: 'text-',
        exclude: (name) => name.startsWith('shadow-'),
        type: 'text-size',
        formatter: formatTextSize
      },
      {
        prefix: '--tracking-',
        heading: 'Letter Spacing',
        classPrefix: 'tracking-',
        type: 'text'
        // No formatter - em values are relative to font-size, so no conversion
      },
      {
        prefix: '--leading-',
        heading: 'Line Height',
        classPrefix: 'leading-',
        type: 'text',
        formatter: formatWithPxConversion
      },
      {
        prefix: '--radius-',
        heading: 'Border Radius',
        classPrefix: 'rounded-',
        type: 'text',
        formatter: formatWithPxConversion
      }
    ];

    /**
     * Generate table rows for a variable type
     * @param {Object} variables - Object with variable names and values
     * @param {Object} config - Configuration object
     * @returns {string} HTML string for table rows
     */
    function generateTableRows(variables, config) {
      const entries = Object.entries(variables);

      // Apply exclude filter if exists
      const filteredEntries = config.exclude
        ? entries.filter(([name]) => !config.exclude(name))
        : entries;

      // Sort alphabetically
      const sortedEntries = filteredEntries.sort(([a], [b]) => a.localeCompare(b));

      return sortedEntries.map(([name, value]) => {
        const className = `${config.classPrefix}${name}`;

        // Format value if formatter exists
        const displayValue = config.formatter ? config.formatter(value) : value;

        // For color type, add a color swatch column
        if (config.type === 'color') {
          return `
          <tr>
            <td class="w-70 py-2 border-b border-[rgba(226,232,240,0.5)] text-[12px] pr-10">
              <div
                class="w-full h-12 rounded border border-[#e0e0e0] inline-block align-middle mr-2"
                style="background-color: ${value}"
                aria-label="Color swatch for ${name}"
              ></div>
            </td>
            <td class="py-2 border-b border-[rgba(226,232,240,0.5)] text-[12px]">.${className}</td>
            <td class="py-2 border-b border-[rgba(226,232,240,0.5)] text-[12px]">${displayValue}</td>
          </tr>
        `;
        }

        // For text-size type, apply the class without fixed text-[12px]
        if (config.type === 'text-size') {
          return `
          <tr>
            <td class="w-70 py-2 border-b border-[rgba(226,232,240,0.5)] text-[12px]">.${className}</td>
            <td class="py-2 border-b border-[rgba(226,232,240,0.5)] ${className}">${displayValue}</td>
          </tr>
        `;
        }

        // For other types, apply the class to demonstrate the value
        return `
        <tr>
          <td class="w-70 py-2 border-b border-[rgba(226,232,240,0.5)] text-[12px]">.${className}</td>
          <td class="py-2 border-b border-[rgba(226,232,240,0.5)] text-[12px] ${className}">${displayValue}</td>
        </tr>
      `;
      }).join('');
    }

    /**
     * Generate a complete table section for a variable type
     * @param {Object} config - Configuration object
     * @returns {string} HTML string for the complete section
     */
    function generateSection(config) {
      const variables = getCssVariables(config.prefix);

      // Skip if no variables found
      if (Object.keys(variables).length === 0) {
        return '';
      }

      const tableHeaders = config.type === 'color'
        ? `
        <tr>
          <th class="text-left py-2 pb-2 border-b border-[rgb(226,232,240)]">Preview</th>
          <th class="text-left py-2 pb-2 border-b border-[rgb(226,232,240)]">Class</th>
          <th class="text-left py-2 pb-2 border-b border-[rgb(226,232,240)]">Value</th>
        </tr>
      `
        : `
        <tr>
          <th class="text-left py-2 pb-2 border-b border-[rgb(226,232,240)]">Class</th>
          <th class="text-left py-2 pb-2 border-b border-[rgb(226,232,240)]">Value</th>
        </tr>
      `;

      return `
      <h2 class="text-[24px] font-bold text-[#6b7ad9] font-['Open_Sans',helveticaneue,helvetica,arial] mb-10 pb-2.5 border-b border-solid mt-20">
        ${config.heading}
      </h2>

      <table class="w-full border-collapse">
        <thead>
          ${tableHeaders}
        </thead>
        <tbody>
          ${generateTableRows(variables, config)}
        </tbody>
      </table>
    `;
    }

    /**
     * Generate all sections
     */
    function generateAllSections() {
      return variableConfigs
        .map(config => generateSection(config))
        .filter(section => section !== '') // Remove empty sections
        .join('');
    }
  </script>

  <div class="p-10 px-0">
    <div class="max-w-[1280px] mx-auto px-5">
      <div id="design-system-output">
        <!-- All sections will be injected here -->
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const outputContainer = document.getElementById('design-system-output');

      if (outputContainer) {
        outputContainer.innerHTML = generateAllSections();
      }
    });
  </script>



{% endblock %}



